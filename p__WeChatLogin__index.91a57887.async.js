"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[137],{94149:function(Z,d,n){n.d(d,{Z:function(){return p}});var y=n(87462),i=n(67294),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},C=g,A=n(84089),I=function(c,v){return i.createElement(A.Z,(0,y.Z)({},c,{ref:v,icon:C}))},p=i.forwardRef(I)},72225:function(Z,d,n){n.r(d),n.d(d,{default:function(){return K}});var y=n(17061),i=n.n(y),g=n(17156),C=n.n(g),A=n(861),I=n.n(A),p=n(27424),V=n.n(p),c=n(67294),v=n(12461),j=n(96365),k=n(71577),O=n(94149),L=n(57405),f={container:"container___ANBoy",title:"title___a21Dx",keyInputContainer:"keyInputContainer___S72f7",keyInput:"keyInput___OUADD",submitButton:"submitButton___GtgYC"},s=n(85893),S=function(){var M=(0,c.useState)(new Array(6).fill("")),B=V()(M,2),h=B[0],N=B[1],m=(0,c.useRef)(new Array(6).fill(null)),T=(0,L.useModel)("@@initialState"),F=T.setInitialState;(0,c.useEffect)(function(){var r;(r=m.current[0])===null||r===void 0||r.focus()},[]);var P=function(e,u){var t=I()(h);if(t[e]=u,u&&e<h.length-1){var o;(o=m.current[e+1])===null||o===void 0||o.focus()}if(!u&&e>0){var l;(l=m.current[e-1])===null||l===void 0||l.focus()}N(t)},z=function(){var r=C()(i()().mark(function e(){var u,t,o,l;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,u=h.join(""),a.next=4,(0,L.request)("api/user/verifyToken?wxToken=".concat(u,"&"));case 4:if(t=a.sent,!(t.code===0&&t.data)){a.next=13;break}return v.ZP.success("\u5BC6\u94A5\u9A8C\u8BC1\u901A\u8FC7\uFF01"),o=new URL(window.location.href).searchParams,L.history.push(o.get("redirect")||"/"),F({loginUser:t.data}),a.abrupt("return");case 13:v.ZP.error("\u5BC6\u94A5\u9A8C\u8BC1\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");case 14:a.next=21;break;case 16:a.prev=16,a.t0=a.catch(0),l="\u5BC6\u94A5\u9A8C\u8BC1\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",console.error(a.t0),v.ZP.error(l);case 21:case"end":return a.stop()}},e,null,[[0,16]])}));return function(){return r.apply(this,arguments)}}();return(0,s.jsxs)("div",{className:f.container,children:[(0,s.jsx)("div",{className:f.title,children:"\u5FAE\u4FE1\u5BC6\u94A5\u9A8C\u8BC1"}),(0,s.jsxs)("div",{className:f.keyInputContainer,children:[h.map(function(r,e){return(0,s.jsx)(j.Z,{className:f.keyInput,value:r,onChange:function(t){return P(e,t.target.value)},maxLength:1,ref:function(t){return m.current[e]=t}},e)}),(0,s.jsx)(k.Z,{type:"primary",onClick:z,icon:(0,s.jsx)(O.Z,{}),className:f.submitButton,children:"\u9A8C\u8BC1\u5BC6\u94A5"})]})]})},K=S}}]);
