"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[169],{73597:function(ue,K,s){s.r(K),s.d(K,{default:function(){return A}});var V=s(17061),a=s.n(V),H=s(42122),m=s.n(H),Y=s(17156),p=s.n(Y),T=s(27424),k=s.n(T),Z=s(51042),X=s(12679),O=s(8124),J=s(2236),M=s(67222),ee=s(57405),v=s(12461),$=s(71577),B=s(63463),C=s(67294),b=s(74594),F=s(85402),d=s(85893),N=function(r){var c=r.visible,g=r.columns,e=r.onCancel,S=r.onSubmit;return(0,d.jsx)(F.Z,{visible:c,footer:null,onCancel:function(){return e==null?void 0:e()},children:(0,d.jsx)(O.Z,{type:"form",columns:g,onSubmit:function(){var P=p()(a()().mark(function j(y){return a()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:S==null||S(y);case 1:case"end":return w.stop()}},j)}));return function(j){return P.apply(this,arguments)}}()})})},D=N,Q=function(r){var c=r.values,g=r.visible,e=r.columns,S=r.onCancel,P=r.onSubmit,j=(0,C.useRef)();return(0,C.useEffect)(function(){if(j){var y;(y=j.current)===null||y===void 0||y.setFieldsValue(c)}},[c]),(0,d.jsx)(F.Z,{visible:g,footer:null,onCancel:function(){return S==null?void 0:S()},children:(0,d.jsx)(O.Z,{type:"form",formRef:j,columns:e,onSubmit:function(){var y=p()(a()().mark(function _(w){return a()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:P==null||P(w);case 1:case"end":return L.stop()}},_)}));return function(_){return y.apply(this,arguments)}}()})})},G=Q,x=function(){var r=(0,C.useState)(!1),c=k()(r,2),g=c[0],e=c[1],S=(0,C.useState)(!1),P=k()(S,2),j=P[0],y=P[1],_=(0,C.useState)(!1),w=k()(_,2),q=w[0],L=w[1],U=(0,C.useRef)(),se=(0,C.useState)(),ne=k()(se,2),I=ne[0],W=ne[1],ie=(0,C.useState)([]),re=k()(ie,2),R=re[0],ae=re[1],le=function(){var f=p()(a()().mark(function u(t){var l;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=v.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),n.prev=1,n.next=4,(0,b.Y4)(m()({},t));case 4:return l(),v.ZP.success("\u521B\u5EFA\u6210\u529F"),e(!1),n.abrupt("return",!0);case 10:return n.prev=10,n.t0=n.catch(1),l(),v.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 15:case"end":return n.stop()}},u,null,[[1,10]])}));return function(t){return f.apply(this,arguments)}}(),oe=function(){var f=p()(a()().mark(function u(t){var l;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(I){n.next=2;break}return n.abrupt("return");case 2:return l=v.ZP.loading("\u4FEE\u6539\u4E2D"),n.prev=3,n.next=6,(0,b.T7)(m()({id:I.id},t));case 6:return l(),v.ZP.success("\u64CD\u4F5C\u6210\u529F"),n.abrupt("return",!0);case 11:return n.prev=11,n.t0=n.catch(3),l(),v.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 16:case"end":return n.stop()}},u,null,[[3,11]])}));return function(t){return f.apply(this,arguments)}}(),ce=function(){var f=p()(a()().mark(function u(t){var l,h;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(l=v.ZP.loading("\u53D1\u5E03\u4E2D"),t){o.next=3;break}return o.abrupt("return",!0);case 3:return o.prev=3,o.next=6,(0,b.GC)({id:t.id});case 6:return l(),v.ZP.success("\u64CD\u4F5C\u6210\u529F"),(h=U.current)===null||h===void 0||h.reload(),o.abrupt("return",!0);case 12:return o.prev=12,o.t0=o.catch(3),l(),v.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+o.t0.message),o.abrupt("return",!1);case 17:case"end":return o.stop()}},u,null,[[3,12]])}));return function(t){return f.apply(this,arguments)}}(),de=function(){var f=p()(a()().mark(function u(t){var l,h;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(l=v.ZP.loading("\u53D1\u5E03\u4E2D"),t){o.next=3;break}return o.abrupt("return",!0);case 3:return o.prev=3,o.next=6,(0,b.zr)({id:t.id});case 6:return l(),v.ZP.success("\u64CD\u4F5C\u6210\u529F"),(h=U.current)===null||h===void 0||h.reload(),o.abrupt("return",!0);case 12:return o.prev=12,o.t0=o.catch(3),l(),v.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+o.t0.message),o.abrupt("return",!1);case 17:case"end":return o.stop()}},u,null,[[3,12]])}));return function(t){return f.apply(this,arguments)}}(),te=function(){var f=p()(a()().mark(function u(t){var l;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(l=v.ZP.loading("\u6B63\u5728\u5220\u9664"),t){n.next=3;break}return n.abrupt("return",!0);case 3:return n.prev=3,n.next=6,(0,b.XG)({id:t.id});case 6:return l(),v.ZP.success("\u5220\u9664\u6210\u529F"),n.abrupt("return",!0);case 11:return n.prev=11,n.t0=n.catch(3),l(),v.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 16:case"end":return n.stop()}},u,null,[[3,11]])}));return function(t){return f.apply(this,arguments)}}(),z=[{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",valueType:"text",formItemProps:{rules:[{required:!0}]}},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea"},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"method",valueType:"text"},{title:"url",dataIndex:"url",valueType:"text"},{title:"\u8BF7\u6C42\u53C2\u6570",dataIndex:"request_params",valueType:"jsonCode"},{title:"\u8BF7\u6C42\u5934",dataIndex:"requestHeader",valueType:"jsonCode"},{title:"\u54CD\u5E94\u5934",dataIndex:"responseHeader",valueType:"jsonCode"},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"\u5173\u95ED",status:"Default"},1:{text:"\u5F00\u542F",status:"Processing"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(u,t){return[(0,d.jsx)("a",{onClick:function(){y(!0),W(t)},children:"\u4FEE\u6539"},"config"),(0,d.jsx)("a",{onClick:function(){ce(t)},children:"\u53D1\u5E03"},"config"),(0,d.jsx)("a",{onClick:function(){de(t)},children:"\u4E0B\u7EBF"},"config"),(0,d.jsx)($.Z,{type:"text",danger:!0,onClick:function(){te(t)},children:"\u5220\u9664"},"config")]}}];return(0,d.jsxs)(X._z,{children:[(0,d.jsx)(O.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:U,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,d.jsxs)($.Z,{type:"primary",onClick:function(){e(!0)},children:[(0,d.jsx)(Z.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var f=p()(a()().mark(function u(t,l,h){var n;return a()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,b.Kz)(m()({},t));case 2:if(n=E.sent,!(n!=null&&n.data)){E.next=7;break}return E.abrupt("return",{data:(n==null?void 0:n.data.records)||[],success:!0,total:(n==null?void 0:n.data.total)||0});case 7:return E.abrupt("return",{data:[],success:!1,total:0});case 8:case"end":return E.stop()}},u)}));return function(u,t,l){return f.apply(this,arguments)}}(),columns:z,rowSelection:{onChange:function(u,t){ae(t)}}}),(R==null?void 0:R.length)>0&&(0,d.jsxs)(J.S,{extra:(0,d.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,d.jsx)("a",{style:{fontWeight:600},children:R.length})," ","\u9879 \xA0\xA0",(0,d.jsxs)("span",{children:["\u670D\u52A1\u8C03\u7528\u6B21\u6570\u603B\u8BA1 ",R.reduce(function(f,u){return f+u.callNo},0)," \u4E07"]})]}),children:[(0,d.jsx)($.Z,{onClick:p()(a()().mark(function f(){var u,t;return a()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,te(R);case 2:ae([]),(u=U.current)===null||u===void 0||(t=u.reloadAndRest)===null||t===void 0||t.call(u);case 4:case"end":return h.stop()}},f)})),children:"\u6279\u91CF\u5220\u9664"}),(0,d.jsx)($.Z,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,d.jsx)(G,{columns:z,onSubmit:function(){var f=p()(a()().mark(function u(t){var l;return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,oe(t);case 2:l=n.sent,l&&(y(!1),W(void 0),U.current&&U.current.reload());case 4:case"end":return n.stop()}},u)}));return function(u){return f.apply(this,arguments)}}(),onCancel:function(){y(!1),q||W(void 0)},visible:j,values:I||{}}),(0,d.jsx)(B.Z,{width:600,visible:q,onClose:function(){W(void 0),L(!1)},closable:!1,children:(I==null?void 0:I.name)&&(0,d.jsx)(M.vY,{column:2,title:I==null?void 0:I.name,request:p()(a()().mark(function f(){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{data:I||{}});case 1:case"end":return t.stop()}},f)})),params:{id:I==null?void 0:I.name},columns:z})}),(0,d.jsx)(D,{columns:z,onCancel:function(){e(!1)},onSubmit:function(u){le(u)},visible:g})]})},A=x},74594:function(ue,K,s){s.d(K,{GC:function(){return Q},JH:function(){return C},Kz:function(){return F},Lu:function(){return ee},T7:function(){return x},US:function(){return J},XG:function(){return X},Y4:function(){return k},zr:function(){return N}});var V=s(17061),a=s.n(V),H=s(42122),m=s.n(H),Y=s(17156),p=s.n(Y),T=s(57405);function k(i,r){return Z.apply(this,arguments)}function Z(){return Z=p()(a()().mark(function i(r,c){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/add",m()({method:"POST",headers:{"Content-Type":"application/json"},data:r},c||{})));case 1:case"end":return e.stop()}},i)})),Z.apply(this,arguments)}function X(i,r){return O.apply(this,arguments)}function O(){return O=p()(a()().mark(function i(r,c){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/delete",m()({method:"POST",headers:{"Content-Type":"application/json"},data:r},c||{})));case 1:case"end":return e.stop()}},i)})),O.apply(this,arguments)}function J(i,r){return M.apply(this,arguments)}function M(){return M=p()(a()().mark(function i(r,c){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/get",m()({method:"GET",params:m()({},r)},c||{})));case 1:case"end":return e.stop()}},i)})),M.apply(this,arguments)}function ee(i,r){return v.apply(this,arguments)}function v(){return v=p()(a()().mark(function i(r,c){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/invoke",m()({method:"POST",headers:{"Content-Type":"application/json"},data:r},c||{})));case 1:case"end":return e.stop()}},i)})),v.apply(this,arguments)}function $(i,r){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function i(r,c){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/interfaceInfo/list",_objectSpread({method:"GET",params:_objectSpread({},r)},c||{})));case 1:case"end":return e.stop()}},i)})),B.apply(this,arguments)}function C(i,r){return b.apply(this,arguments)}function b(){return b=p()(a()().mark(function i(r,c){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/token/get",m()({method:"GET",params:m()({},r)},c||{})));case 1:case"end":return e.stop()}},i)})),b.apply(this,arguments)}function F(i,r){return d.apply(this,arguments)}function d(){return d=p()(a()().mark(function i(r,c){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/list/page",m()({method:"GET",params:m()({},r)},c||{})));case 1:case"end":return e.stop()}},i)})),d.apply(this,arguments)}function N(i,r){return D.apply(this,arguments)}function D(){return D=p()(a()().mark(function i(r,c){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/offline",m()({method:"POST",headers:{"Content-Type":"application/json"},data:r},c||{})));case 1:case"end":return e.stop()}},i)})),D.apply(this,arguments)}function Q(i,r){return G.apply(this,arguments)}function G(){return G=p()(a()().mark(function i(r,c){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/online",m()({method:"POST",headers:{"Content-Type":"application/json"},data:r},c||{})));case 1:case"end":return e.stop()}},i)})),G.apply(this,arguments)}function x(i,r){return A.apply(this,arguments)}function A(){return A=p()(a()().mark(function i(r,c){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/update",m()({method:"POST",headers:{"Content-Type":"application/json"},data:r},c||{})));case 1:case"end":return e.stop()}},i)})),A.apply(this,arguments)}}}]);
